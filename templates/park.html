{% extends "base.html" %}

{% block content %}

<!--spacing block-->
<section id="block">
    <div class="container-lg my-2">
        <div class="row">
            <div class="col">
            </div>
        </div>
    </div>
</section>

<!--username greeting-->
<section id="userInfo">
    <div class="row justify-content-center pt-4">
        <div class="col-6 col-md-3 text-center">
            <p class="display-6 text-light">
                {{ current_user.username | upper }}
            </p>
            <p class="small text-muted">
                Member since 2022
            </p>
        </div>
    </div>
</section>

<!--user account nav bar-->
<section id="userContent">
    <div class="container bg-light rounded-3 border border-5 border-light">
        <div class="row justify-content-center">
            <div class="col-12 col-md-6 pt-5">
                <ul class="nav nav-pills justify-content-center pb-1 border-bottom border-2">
                    <li class="nav-item small">
                      <a class="nav-link small" href="../../user_page/likes">Likes</a>
                    </li>
                    <li class="nav-item small">
                      <a class="nav-link small" href="../../user_page/dislikes">Dislikes</a>
                    </li>
                    <li class="nav-item small">
                      <a class="nav-link small" href="../../user_page/countdown">Countdown</a>
                    </li>
                    <li class="nav-item small">
                      <a class="nav-link active small" href="#">Bucket List</a>
                    </li>
                  </ul>
            </div>
        </div>

        <!--spacing block-->
        <div class="row py-2">
            <div class="col">
            </div>
        </div>

    <div class="container-md bg-light rounded-3 border border-5 border-light">
		<!--back to bucket list-->
	 <div class="row justify-content-center mt-3">
		 <div class="col-12 col-md-6 text-center">
			 <a href="/user_page/bucket_list#wdw-logo" class="btn"><button class="btn btn-secondary">Back to Park Select</button></a>
		 </div>
	 </div>
 	</div>

   


	<!--Magic Kingdom total-->
	<div class="row justify-content-center my-5 border border border-bottom-dark align-items-center">
		<div class="col-6 col-md-4">
			<a href="#" class="btn">
			<img src="{{ image }}" alt="" class="img-fluid">
			</a>
		</div>
		<div class="col-6 col-md-4">
			<p class="display-3 text-center">
				{{ user_count }} / {{ attraction_count }}
			</p>
			<p class="small text-muted text-center mt-0">Attractions experienced</p>
		</div>
	</div>
</section>

<section>
    <div class="row justify-content-center my-4">
        <div class="col-10 col-md-5">
            <p class="small text-muted text-center">Click red X to mark as ridden</p>
        </div>
    </div>

    <!--park attractions list-->
    <div class="row justify-content-center mb-5">
        <div class="col-11 col-md-8">
            <table class="table table-dark table-hover">
                <thead>
                    <tr id="ride-selection" class="text-center">
                        <th scope="col">Attraction</th>
                      <th scope="col">Land</th>
                      <th scope="col">Ridden?</th>
                    </tr>
                  </thead>
                {% for row in attractions %}
                {% if not row.id in user_lst %}
                <tr>
                    <td><a href="{{ row.dis_link }}" class="btn"><p class="small text-light">{{ row.attraction }}</p></a></td>
                    <td class="text-center"><p class="small">{{ row.land }}</p></td>
                    {% if row.id in user_lst %}
                    <td class="text-center"><a href="/remove-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-check-circle-fill text-success"></i></a></td>
                    {% else %}
                    <td class="text-center"><a href="/add-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-x-lg text-danger"></i></a></td>
                    {% endif %}
                </tr>
                {% else %}
                <tr>
                    <td><p class="small">{{ row.attraction }}</p></td>
                    <td class="text-center"><p class="small">{{ row.land }}</p></td>
                    {% if row.id in user_lst %}
                    <td class="text-center"><a href="/remove-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-check-circle-fill text-success"></i></a></td>
                    {% else %}
                    <td class="text-center"><a href="/add-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-x-lg text-danger"></i></a></td>
                    {% endif %}
                </tr>
                {% endif %}
                {% endfor %}
            </table>
        </div>
    </div>

</section>

{% endblock %}


<section>
    <!--park attractions list-->
    <div class="row justify-content-center my-5">
        <div class="col-11 col-md-8">
            <table class="table table-dark table-hover">
                <thead>
                    <tr id="ride-selection" class="text-center">
                        <th scope="col">Attraction</th>
                      <th scope="col">Land</th>
                      <th scope="col">Ridden?</th>
                    </tr>
                  </thead>
                {% for row in attractions %}
                {% if not row.id in user_lst %}
                <tr>
                    <td><p class="small">{{ row.attraction }}</p></td>
                    <td class="text-center"><p class="small">{{ row.land }}</p></td>
                    {% if row.id in user_lst %}
                    <td class="text-center"><a href="/remove-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-check-circle-fill text-success"></i></a></td>
                    {% else %}
                    <td class="text-center"><a href="/add-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-x-lg text-danger"></i></a></td>
                    {% endif %}
                </tr>
                {% endif %}
                {% if row.id in user_lst%}
                <tr>
                    <td><p class="small">{{ row.attraction }}</p></td>
                    <td class="text-center"><p class="small">{{ row.land }}</p></td>
                    {% if row.id in user_lst %}
                    <td class="text-center"><a href="/remove-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-check-circle-fill text-success"></i></a></td>
                    {% else %}
                    <td class="text-center"><a href="/add-attraction/{{ row.park }}/{{ row.id }}" class="btn"><i class="bi bi-x-lg text-danger"></i></a></td>
                    {% endif %}
                </tr>
                {% endif %}

                {% endfor %}
            </table>
        </div>
    </div>

</section>
